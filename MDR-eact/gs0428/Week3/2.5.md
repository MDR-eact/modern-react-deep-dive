# 2.5 컴포넌트와 함수의 무거운 연산을 기억해 두는 메모이제이션

메모이제이션 최적화는 오랜 논쟁 주제 중 하나로, <b>'무조건 메모이제이션은 필요하다'</b>와 <b>'메모이제이션을 섣불리 해서는 안 된다'</b>에 대한 각각의 주장을 살펴보고 현명하고 효율적으로 리액트에서 메모이제이션하는 방법에 대해 알아보자.

> **전제 조건**
>
> - 일부 컴포넌트에서는 메모이제이션을 하는 것이 성능에 도움이 된다.
> - memo나 다른 메모이제이션 방법을 사용하는 것이 이점이 있을 때가 분명히 있다.

## 주장1: 섣부른 최적화는 독이다, 꼭 필요한 곳에만 메모이제이션을 추가하자

메모이제이션은 **값을 비교하고 렌더링 또는 재계산이 필요한지 확인하는 작업**, 그리고 **이전에 결과물을 저장해 두었다가 다시 꺼내와야 한다**는 두 가지 비용이 있다.

이 비용이 리렌더링 비용보다 저렴할까?라는 생각과 함께 **메모이제이션**은 **신중하게 접근**하고 **섣부른 최적화(premature optimization, premature memoization)는 항상 경계**해야 한다.

## 주장2: 렌더링 과정의 비용은 비싸다, 모조리 메모이제이션해 버리자

memo를 하지 않았을 때 발생할 수 있는 문제

- 렌더링을 함으로써 발생하는 비용
- 컴포넌트 내부의 복잡한 로직의 재실행
- 위 두 가지 모두가 모든 자식 컴포넌트에서 반복해서 일어남
- 리액트가 구 트리와 신규 트리를 비교

따라서 **섣부른 초기화라고 할지라도 했을 때 누릴 수 있는 이점**, 그리고 실수로 빠뜨렸을 때 치러야 할 위험 비용이 더 크기 때문에 **최적화에 대한 확신이 없다면 가능한 모든 곳에 메모이제이션을 활용한 최적화를 하는 것이 좋다.**
