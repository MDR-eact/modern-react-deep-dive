## 5.1 상태 관리는 왜 필요한가?

상태는 어떠한 의미를 지닌 값이고 애플리케이션의 시나리오에 따라 지속적으로 변경될 수 있는 값을 의미함
웹 애플리케이션에서 상태로 분류될 수 있는 것들은 다음과 같음

- UI: 웹 애플리케이션에서 상태는 상호 작용이 가능한 모든 요소의 현재 값을 의미함
- URL: 브라우저에서 관리되고 있는 상태값임, 이 상태는 사용자의 라우팅에 따라 변경됨
- form: submit, disabled, validation 등 상태로 관리됨
- 서버에서 가져온 값

### 5.1.1 리액트 상태 관리의 역사

FLUX 패턴
웹 애플리케이션이 비대해지고 상태(데이터)도 많아짐에 따라 어디서 상태가 변경됐는지 추적하기 어려운 상황이었음
기존 MVC 패턴은 모델과 뷰가 많아질수록 복잡도가 증가하는 형태였음
이 문제의 원인을 양방향 데이터 바인딩이라고 생각했는데, 뷰(HTML)가 모델(자바스크립트)을 변경할 수 있고 모델도 뷰를 변경할 수 있었음
그래서 단방향 데이터 흐름 변경을 제안했는데 이게 바로 FLUX 패턴임

각 용어는 다음과 같음

- 액션: 어떠한 작업을 처리할 액션과 액션 발생 시 함께 포함시킬 데이터를 의미함, 액션 타입과 데이터를 정의해 디스패처로 보냄
- 디스패처: 액션을 스토어에 보냄, 콜백 함수 형태임
- 스토어: 실제 상태에 따른 값과 상태를 변경할 수 있는 메서드를 가지고 있음
- 뷰: 리액트 컴포넌트에 해당하는 부분임, 스토어에서 만들어진 데이터를 가져와 화면을 렌더링함, 뷰에서도 사용자의 입력이나 행위에 따라 상태를 업데이트하고자 할 수 있을 것. 이 경우에는 뷰에서 액션을 호출하는 구조로 구성

리액트는 대표적인 단방향 데이터 바인딩을 기반으로 한 라이브러리라 단방향 흐름을 정의하는 FLUX 패턴과 궁합이 잘 맞았음

리덕스 또한 최초에는 FLUX 구조를 구현하기 위해 만들어진 라이브러리 중 하나였음
여기에 Elm 아키텍처를 도입함
Elm은 웹페이지를 선언적으로 작성하기 위한 언어임

Elm은 데이터 흐름을 세 가지로 구분함
model, update, view.

- model: 애플리케이션의 상태를 의미함
- view: 모델을 표현하는 HTML, model을 인수로 받아 HTML을 표현함
- update: 모델을 수정하는 방식을 말함
  Elm도 단방향 데이터 흐름을 따름

이 Elm 아키텍처를 도입해 리덕스는 하나의 상태 객체를 스토어에 저장해 두고, 이 객체를 업데이트하는 작업을 디스패치해 업데이트를 수행함
이 작업은 reducer 함수로 발생시킬 수 있는데, 해당 함수는 웹 애플리케이션 상태에 대해 완전히 새로운 복사본을 반환한 다음, 이 상태를 전파하게 됨
하지만, 리덕스는 하고자 하는 일에 비해 보일러플레이트가 너무 많다는 소리도 있었음

리액트 팀은 전역 상태를 하위 컴포넌트에 주입할 수 있는 새로운 Context API를 출시함
하지만 Context API는 상태 관리가 아닌 주입을 도와주는 기능이고 렌더링을 막아주는 기능 또한 존재하지 않아 사용할 때 주의가 필요함

요즘 새롭게 떠오르고 있는 많은 상태 관리 라이브러리는 기존의 리덕스와는 차이점이 있음
바로 훅을 활용해 작은 크기의 상태를 효율적으로 관리한다는 것임

### 5.1.2 정리
