# 🌟 1.5 이벤트 루프와 비동기 통신의 이해
## 📌 1.5.1 싱글 스레드 자바스크립트
- 만약 자바스크립트가 멀티 스레딩을 지원하여 동시에 여러 스레드가 DOM을 조작할 수 있다면, 메모리 공유로 인해 타이밍 이슈가 발생할 수 있고, 이는 브라우저의 DOM 표시에 큰 문제를 야기할 수 있음
- 자바스크립트의 모든 코드는 '동기식'으로 한 번에 하나씩 순차적으로 처리됨

## 📌 1.5.2. 이벤트 루프란?
- 자바스크립트의 비동기 실행을 돕기 위해 만들어진 장치로, 호출 스택이 비어 있는지 여부를 확인
- 수행할 코드가 있다면 자바스크립트 엔진을 이용해 실행
- '코드를 실행하는 것'과 '호출 스택이 비어있는지 확인하는 것' 모두 단일 스레드에서 일어남
- 태스크 큐에 대기 중인 함수가 있는지 확인도 함
  - 호출 스택이 비어있다면 태스크 큐에  대기 중인 작업이 있는지 확인하고, 이 작업을 실행 가능한 오래된 것 부터 순차적으로 꺼내와서 실행

## 📌 1.5.3. 태스크 큐와 마이크로 태스크 큐
```js
function foo() {
  console.log('foo')
}

function bar() {
  console.log('bar')
}

function baz() {
  console.log('baz')
}

setTimeout(foo, 0) // 태스크 큐에 들어감

Promise.resolve().then(bar).then(baz) // 마이크로 태스크 큐에 들어감
// bar -> baz -> foo 순서로 실행
```
- 태스크 큐란 실행해야 할 태스크의 집합
  - queue가 아닌 set 형태
  - 태스크 큐에 작업을 할당해 처리하는 것은 브라우저나 Node.js의 역할
  - 예) setTimeout, setInterval, setImmediate
- 마이크로 태스크 큐란 태스크 큐보다 우선순위가 높은 것
  - 예) Promises, process.nextTick, queueMicroTask, MutationObserver
- 브라우저 렌더링은 마이크로 태스크 큐를 실행하고 태스크 큐를 실행하기 전에 일어남

